#include <Arduino.h>
#include "Timer.h"

#define IR_RECEIVER_PIN 13

#define NUM_MENU_ITEMS 3

enum Phase
{
	HOLD,
	WORK,
	REST,
};

hw_timer_t *hw_timer = nullptr;

void setup()
{
	Timer* timer = Timer::getInstance();
	
	hw_timer = timerBegin(0, 80, true);
	timerAlarmWrite(hw_timer, 1000000, true);

	timerAttachInterrupt(hw_timer, &Timer::on_timer, true);
}

void loop()
{
}

class Display
{
public:
	unsigned char second;
	unsigned char ten_second;
	unsigned char minute;
	unsigned char ten_minute;
	unsigned char alpha_1;
	unsigned char alpha_2;

	std::array<int, 14> segment_chars = {
		0b1111111111111111111111110000,
		0b1111000000000000000000001111,
		0b0000111111110000111111111111,
		0b1111111100000000111111111111,
		0b1111000000001111000011111111,
		0b1111111100001111111100001111,
		0b1111111111111111111100001111,
		0b1111000000000000111111110000,
		0b1111111111111111111111111111,
		0b1111111100001111111111111111,
		0b0000111111111111000000001111,
		0b1111000011111111111111111111,
		0b1111111111111111000000001111,
		0b0000111111111111111100001111,
	};

	

	void clear_display(){

	}
	/*

	1	 2	  3	   4    5    6    7
	1111 1111 1111 1111 1111 1111 0000	// 0

	1111 0000 0000 0000 0000 0000 1111  // 1

	0000 1111 1111 0000 1111 1111 1111  // 2

	1111 1111 0000 0000 1111 1111 1111  // 3

	1111 0000 0000 1111 0000 1111 1111  // 4

	1111 1111 0000 1111 1111 0000 1111  // 5

	1111 1111 1111 1111 1111 0000 1111  // 6

	1111 0000 0000 0000 1111 1111 0000  // 7

	1111 1111 1111 1111 1111 1111 1111  // 8

	1111 1111 0000 1111 1111 1111 1111  // 9

	0000 1111 1111 1111 0000 0000 1111  // t

	1111 0000 1111 1111 1111 1111 1111  // A

	1111 1111 1111 1111 0000 0000 1111  // b

	0000 1111 1111 1111 1111 0000 1111  // E
	*/
};